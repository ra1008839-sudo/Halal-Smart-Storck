<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Halal Smart Stock â€” Splash</title>

  <!-- Prevent stale cache for splash -->
  <meta http-equiv="Cache-Control" content="no-store" />
  <meta name="theme-color" content="#071714" />

  <!-- Preload splash image & prefetch app -->
  <link rel="preload" href="assets/splash.jpg" as="image">
  <link rel="prefetch" href="templates/index.html">

  <style>
    :root{
      --bg:#071714;          /* deep dark background */
      --ring:0 0 0 8px rgba(21,211,154,.25);
      --brand:#15d39a;
      --muted:#a8c9c1;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--bg);color:#fff}

    /* Fullscreen center */
    .wrap{
      height:100%;width:100%;
      display:grid;place-items:center;
      background:
        radial-gradient(800px 400px at 85% -10%, rgba(21,211,154,.10), transparent 60%),
        radial-gradient(900px 500px at -10% 80%, rgba(53,245,197,.06), transparent 60%),
        var(--bg);
      overflow:hidden;
    }

    /* Card that holds the splash poster */
    .card{
      position:relative;
      width:min(94vw, 820px);
      aspect-ratio:3/2;            /* balanced for most phones */
      border-radius:24px;
      overflow:hidden;
      background:#0d2420;
      border:1px solid rgba(255,255,255,.08);
      box-shadow:0 22px 70px rgba(0,0,0,.45), var(--ring);
      animation:pop .45s ease-out both;
    }

    .poster{
      width:100%;height:100%;
      object-fit:cover;            /* cover without distortion */
      display:block;
      filter:saturate(1.03) contrast(1.03);
      animation:fadein .6s ease both;
    }

    /* tiny loader hint */
    .hint{
      position:fixed; left:0; right:0; bottom:18px;
      text-align:center; color:var(--muted);
      font:500 12px ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto;
    }

    /* Simple spinner */
    .spinner{
      position:absolute; right:14px; bottom:12px;
      width:18px;height:18px;border-radius:50%;
      border:2px solid rgba(255,255,255,.25);
      border-top-color: var(--brand);
      animation:spin .8s linear infinite;
      box-shadow:0 0 0 2px rgba(0,0,0,.25) inset;
    }

    @keyframes spin{to{transform:rotate(360deg)}}
    @keyframes pop{from{transform:scale(.96);opacity:0} to{transform:scale(1);opacity:1}}
    @keyframes fadein{from{opacity:0} to{opacity:1}}
    @media (max-width:480px){ .card{border-radius:18px} }
    @media (prefers-reduced-motion:reduce){
      .card,.poster,.spinner{animation:none}
    }
  </style>
</head>
<body>
  <div class="wrap" role="main" aria-label="Splash screen">
    <div class="card" aria-live="polite">
      <!-- ðŸ‘‡ YAHI IMAGE DIKHNI HAI -->
      <img class="poster" src="assets/splash.jpg" alt="Halal Smart Stock" />
      <div class="spinner" aria-hidden="true"></div>
    </div>
  </div>
  <div class="hint">Loading appâ€¦</div>

  <script>
    // ====== CONFIG ======
    const NEXT_URL   = "templates/index.html"; // aapka real app
    const SPLASH_MS  = 3500;                   // minimum splash time (3.5s)
    // =====================

    const img = document.querySelector(".poster");

    // Wait at least SPLASH_MS, and also until image has loaded (whichever takes longer)
    const minShown = new Promise(r => setTimeout(r, SPLASH_MS));
    const imgReady = new Promise(r => {
      if (img.complete) { r(); }
      else img.addEventListener("load", r, { once:true });
    });

    function go(){  // replace so back button splash pe na aaye
      window.location.replace(NEXT_URL);
    }

    // If image fails, still proceed after minimum time
    img.addEventListener("error", () => {
      console.warn("Splash image failed to load; continuing.");
      minShown.then(go);
    }, { once:true });

    Promise.all([minShown, imgReady]).then(go);
  </script>

  <!-- No-JS fallback -->
  <noscript>
    <meta http-equiv="refresh" content="0; url=templates/index.html">
  </noscript>
</body>
</html>
